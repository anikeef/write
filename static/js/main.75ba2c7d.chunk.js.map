{"version":3,"sources":["live-editor/MarkdownRender.js","live-editor/Editor.js","live-editor/ToggleEditor.js","live-editor/SaveButton.js","services/MyJsonService.js","services/StorageService.js","live-editor/Loading.js","live-editor/LiveEditor.js","App.js","index.js"],"names":["MarkdownRender","props","newProps","plugins","RemarkMathPlugin","renderers","math","value","inlineMath","Editor","onChange","autoFocus","className","placeholder","ToggleEditor","onClick","SaveButton","url","savingInfo","shouldShowSavingInfo","disabled","document","addEventListener","alert","MyJsonService","post","body","window","fetch","method","headers","JSON","stringify","then","result","json","get","id","StorageService","_extractIdFromURI","uri","split","slice","createLink","text","markdown","error","console","log","getMarkdownFromCurrentURI","pathname","location","Promise","resolve","localStorage","getItem","cacheMarkdown","setItem","Loading","LiveEditor","isURIEmpty","state","fullScreen","generatedURI","isLoading","setState","toString","handleChange","bind","toggleEditor","handleSave","this","source","event","target","React","Component","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.75ba2c7d.chunk.js","sourcesContent":["import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport RemarkMathPlugin from 'remark-math';\nimport 'katex/dist/katex.min.css';\nimport { InlineMath, BlockMath } from 'react-katex';\n\nexport const MarkdownRender = (props) => {\n  const newProps = {\n    ...props,\n    plugins: [\n      RemarkMathPlugin,\n    ],\n    renderers: {\n      ...props.renderers,\n      math: ({ value }) => <BlockMath>{ value }</BlockMath>,\n      inlineMath: ({ value }) => <InlineMath>{ value }</InlineMath>,\n    }\n  };\n  return (\n    <ReactMarkdown {...newProps} />\n  );\n};","import React from 'react';\n\nexport const Editor = ({ onChange, value }) => {\n  return (\n    <textarea autoFocus className=\"editor\" onChange={ onChange } value={ value }\n    placeholder=\"Enter your markdown\"></textarea>\n  )\n}","import React from 'react';\n\nexport const ToggleEditor = ({ onClick }) => {\n  return (\n    <div className=\"output__toggle-editor\" onClick={ onClick }>\n      <span className=\"icon icon-arrow-left output__toggle-button\"></span>\n    </div>\n  )\n}","import React from 'react';\n\nexport const SaveButton = ({ onClick, url, shouldShowSavingInfo }) => {\n  const savingInfo = shouldShowSavingInfo ? \n    <input className=\"save-info\" placeholder=\"Wait...\" disabled value={ url }></input> : null\n\n  document.addEventListener(\"document:click\", () => {\n    alert(\"af\");\n  })\n\n  return (\n    <div className=\"save-container\">\n      { savingInfo }\n      <button className=\"save-button\" onClick={ onClick }>\n        <span className=\"icon icon-fullscreen\"></span>\n      </button>\n      \n    </div>\n  );\n}","export const MyJsonService = (function() {\n  const post = (body) => {\n    return window.fetch('https://api.myjson.com/bins', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    }).then(\n      (result) => result.json(),\n    );\n  }\n\n  const get = (id) => {\n    return window.fetch('https://api.myjson.com/bins/' + id)\n      .then(\n        (result) => result.json()\n      )\n  }\n\n\n  return { post, get }\n})()","import { MyJsonService } from './MyJsonService';\n\nconst URL_BASE = 'localhost:3000/'\n\nexport const StorageService = (function() {\n  const _extractIdFromURI = (uri) => {\n    return uri.split(\"/\").slice(-1);\n  }\n\n  const _getCachedMarkdown = () => {\n    return window.localStorage.getItem('markdown') || '';\n  }\n\n  const createLink = (text) => {\n    return MyJsonService.post({ markdown: text })\n      .then(\n        (json) => URL_BASE + _extractIdFromURI(json.uri),\n        (error) => console.log(error)\n      );\n  }\n\n  const getMarkdownFromCurrentURI = () => {\n    const pathname = window.location.pathname;\n    if (pathname === '/') return Promise.resolve(_getCachedMarkdown());\n    return MyJsonService.get(_extractIdFromURI(pathname)).then(\n        (json) => json.markdown,\n        (error) => console.log(error)\n      )\n  }\n\n  const cacheMarkdown = (markdown) => {\n    window.localStorage.setItem('markdown', markdown);\n  }\n\n  return { createLink, getMarkdownFromCurrentURI, cacheMarkdown };\n})();","import React from 'react';\nimport { HashLoader } from 'react-spinners';\n\nexport const Loading = () => {\n  return (\n    <div className=\"loading\">\n      <HashLoader></HashLoader>\n    </div>\n    \n  );\n}","import React from 'react';\n\nimport { MarkdownRender } from \"./MarkdownRender\";\nimport { Editor } from \"./Editor\";\nimport { ToggleEditor } from \"./ToggleEditor\";\nimport { SaveButton } from \"./SaveButton\";\nimport { StorageService } from '../services/StorageService';\nimport { Loading } from './Loading';\n\nexport class LiveEditor extends React.Component {\n  constructor() {\n    super();\n    const isURIEmpty = window.location.pathname === \"/\";\n    this.state = {\n      markdown: \"\",\n      fullScreen: !isURIEmpty,\n      generatedURI: \"\",\n      shouldShowSavingInfo: false,\n      isLoading: !isURIEmpty\n    }\n    StorageService.getMarkdownFromCurrentURI()\n      .then((markdown) => {\n        this.setState({ \n          markdown: markdown,\n          generatedURI: isURIEmpty ? \"\" : window.location.toString(),\n          isLoading: false\n        })\n      })\n\n    this.handleChange = this.handleChange.bind(this);\n    this.toggleEditor = this.toggleEditor.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return <Loading />\n    }\n\n    return (\n      <div className=\"live-editor\">\n        <Editor value={ this.state.markdown }onChange={ this.handleChange }/>\n        <div className={ \"output\" + (this.state.fullScreen ? \" output_fullscreen\" : \"\")}>\n          <SaveButton url={ this.state.generatedURI } onClick={ this.handleSave } \n          shouldShowSavingInfo={ this.state.shouldShowSavingInfo } />\n          <ToggleEditor onClick={ this.toggleEditor }/>\n          <div className=\"output__content\">\n            <MarkdownRender source={ this.state.markdown }></MarkdownRender>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  handleChange(event) {\n    this.setState({\n      markdown: event.target.value,\n      shouldShowSavingInfo: false,\n      generatedURI: \"\"\n    });\n    StorageService.cacheMarkdown(event.target.value);\n  }\n\n  toggleEditor() {\n    this.setState({\n      fullScreen: !this.state.fullScreen\n    });\n  }\n\n  handleSave() {\n    console.log(this.state.generatedURI);\n    this.setState({ shouldShowSavingInfo: !this.state.shouldShowSavingInfo });\n    if (this.state.generatedURI) return;\n    StorageService.createLink(this.state.markdown)\n      .then(\n        (uri) => {\n          this.setState({\n            generatedURI: uri\n          })\n        }\n      );\n  }\n}\n","import React from 'react';\nimport { LiveEditor } from './live-editor/LiveEditor';\n\nconst App = () => {\n  return (\n    <LiveEditor />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}