(window["webpackJsonpreact-md"]=window["webpackJsonpreact-md"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),i=(n(43),n(28)),l=n(29),u=n(36),s=n(30),d=n(6),h=n(37),m=n(31),f=n(32),g=n.n(f),v=n(33),p=n.n(v),w=(n(129),n(15));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=S({},e,{plugins:[p.a],renderers:S({},e.renderers,{math:function(e){var t=e.value;return r.a.createElement(w.BlockMath,null,t)},inlineMath:function(e){var t=e.value;return r.a.createElement(w.InlineMath,null,t)}})});return r.a.createElement(g.a,t)},E=function(e){var t=e.onChange,n=e.value;return r.a.createElement("textarea",{autoFocus:!0,className:"editor",onChange:t,value:n,placeholder:"Enter your markdown"})},O=function(e){var t=e.onClick;return r.a.createElement("div",{className:"output__toggle-editor",onClick:t},r.a.createElement("span",{className:"icon icon-arrow-left output__toggle-button"}))},j=function(e){var t=e.onClick,n=e.url,a=e.shouldShowSavingInfo?r.a.createElement("input",{className:"save-info",placeholder:"Wait...",disabled:!0,value:n}):null;return document.addEventListener("document:click",(function(){alert("af")})),r.a.createElement("div",{className:"save-container"},a,r.a.createElement("button",{className:"save-button",onClick:t},r.a.createElement("span",{className:"icon icon-fullscreen"})))},y={post:function(e){return window.fetch("https://api.myjson.com/bins",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},get:function(e){return window.fetch("https://api.myjson.com/bins/"+e).then((function(e){return e.json()}))}},I=function(){var e=function(e){return e.split("/").slice(-1)};return{createLink:function(t){return y.post({markdown:t}).then((function(t){return"localhost:3000/"+e(t.uri)}),(function(e){return console.log(e)}))},getMarkdownFromCurrentURI:function(){var t=window.location.pathname;return"/"===t?Promise.resolve(window.localStorage.getItem("markdown")||""):y.get(e(t)).then((function(e){return e.markdown}),(function(e){return console.log(e)}))},cacheMarkdown:function(e){window.localStorage.setItem("markdown",e)}}}(),C=n(34),N=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement(C.HashLoader,null))},P=function(e){function t(){var e;Object(i.a)(this,t),e=Object(u.a)(this,Object(s.a)(t).call(this));var n="/"===window.location.pathname;return e.state={markdown:"",fullScreen:!n,generatedURI:"",shouldShowSavingInfo:!1,isLoading:!n},I.getMarkdownFromCurrentURI().then((function(t){e.setState({markdown:t,generatedURI:n?"":window.location.toString(),isLoading:!1})})),e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.toggleEditor=e.toggleEditor.bind(Object(d.a)(e)),e.handleSave=e.handleSave.bind(Object(d.a)(e)),e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.isLoading?r.a.createElement(N,null):r.a.createElement("div",{className:"live-editor"},r.a.createElement(E,{value:this.state.markdown,onChange:this.handleChange}),r.a.createElement("div",{className:"output"+(this.state.fullScreen?" output_fullscreen":"")},r.a.createElement(j,{url:this.state.generatedURI,onClick:this.handleSave,shouldShowSavingInfo:this.state.shouldShowSavingInfo}),r.a.createElement(O,{onClick:this.toggleEditor}),r.a.createElement("div",{className:"output__content"},r.a.createElement(k,{source:this.state.markdown}))))}},{key:"handleChange",value:function(e){this.setState({markdown:e.target.value,shouldShowSavingInfo:!1,generatedURI:""}),I.cacheMarkdown(e.target.value)}},{key:"toggleEditor",value:function(){this.setState({fullScreen:!this.state.fullScreen})}},{key:"handleSave",value:function(){var e=this;console.log(this.state.generatedURI),this.setState({shouldShowSavingInfo:!this.state.shouldShowSavingInfo}),this.state.generatedURI||I.createLink(this.state.markdown).then((function(t){e.setState({generatedURI:t})}))}}]),t}(r.a.Component),R=function(){return r.a.createElement(P,null)};c.a.render(r.a.createElement(R,null),document.getElementById("root"))},38:function(e,t,n){e.exports=n(153)},43:function(e,t,n){}},[[38,1,2]]]);
//# sourceMappingURL=main.75ba2c7d.chunk.js.map